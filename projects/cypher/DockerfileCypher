FROM neo4j:4.4.7-enterprise


ENV NEO4J_ACCEPT_LICENSE_AGREEMENT="yes"
ENV NEO4J_AUTH="neo4j/wiggle"
ENV NEO4J_apoc_import_file_use__neo4j__config="true"
ENV NEO_URI="neo4j://localhost:7687"


COPY my-entrypoint.sh /my-entrypoint.sh
RUN chmod +x /my-entrypoint.sh

ENTRYPOINT ["tini", "-g", "--", "/my-entrypoint.sh"]

CMD ["neo4j"]


RUN echo "CREATE (Hello:Word) RETURN 'Hello, World\!';" | cypher-shell --fail-fast -a "neo4j://localhost:7687" -u "neo4j" -p "wiggle"
#CMD ["tail", "-f", "/dev/null"]